{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport Animate from 'rc-animate';\nimport classNames from 'classnames';\nimport LoadingOutlined from '@ant-design/icons/LoadingOutlined';\nimport PaperClipOutlined from '@ant-design/icons/PaperClipOutlined';\nimport PictureTwoTone from '@ant-design/icons/PictureTwoTone';\nimport FileTwoTone from '@ant-design/icons/FileTwoTone';\nimport EyeOutlined from '@ant-design/icons/EyeOutlined';\nimport DeleteOutlined from '@ant-design/icons/DeleteOutlined';\nimport DownloadOutlined from '@ant-design/icons/DownloadOutlined';\nimport { cloneElement, isValidElement } from '../_util/reactNode';\nimport { previewImage, isImageUrl } from './utils';\nimport Tooltip from '../tooltip';\nimport Progress from '../progress';\nimport { ConfigContext } from '../config-provider';\nimport Button from '../button';\nimport useForceUpdate from '../_util/hooks/useForceUpdate';\n\nvar InternalUploadList = function InternalUploadList(_ref, ref) {\n  var _classNames6;\n\n  var listType = _ref.listType,\n      previewFile = _ref.previewFile,\n      onPreview = _ref.onPreview,\n      onDownload = _ref.onDownload,\n      onRemove = _ref.onRemove,\n      locale = _ref.locale,\n      iconRender = _ref.iconRender,\n      isImgUrl = _ref.isImageUrl,\n      customizePrefixCls = _ref.prefixCls,\n      _ref$items = _ref.items,\n      items = _ref$items === void 0 ? [] : _ref$items,\n      showPreviewIcon = _ref.showPreviewIcon,\n      showRemoveIcon = _ref.showRemoveIcon,\n      showDownloadIcon = _ref.showDownloadIcon,\n      customRemoveIcon = _ref.removeIcon,\n      customDownloadIcon = _ref.downloadIcon,\n      progressProps = _ref.progress,\n      appendAction = _ref.appendAction,\n      itemRender = _ref.itemRender;\n  var forceUpdate = useForceUpdate();\n  React.useEffect(function () {\n    if (listType !== 'picture' && listType !== 'picture-card') {\n      return;\n    }\n\n    (items || []).forEach(function (file) {\n      if (typeof document === 'undefined' || typeof window === 'undefined' || !window.FileReader || !window.File || !(file.originFileObj instanceof File || file.originFileObj instanceof Blob) || file.thumbUrl !== undefined) {\n        return;\n      }\n\n      file.thumbUrl = '';\n\n      if (previewFile) {\n        previewFile(file.originFileObj).then(function (previewDataUrl) {\n          // Need append '' to avoid dead loop\n          file.thumbUrl = previewDataUrl || '';\n          forceUpdate();\n        });\n      }\n    });\n  }, [listType, items, previewFile]);\n\n  var handlePreview = function handlePreview(file, e) {\n    if (!onPreview) {\n      return;\n    }\n\n    e.preventDefault();\n    return onPreview(file);\n  };\n\n  var handleDownload = function handleDownload(file) {\n    if (typeof onDownload === 'function') {\n      onDownload(file);\n    } else if (file.url) {\n      window.open(file.url);\n    }\n  };\n\n  var handleClose = function handleClose(file) {\n    if (onRemove) {\n      onRemove(file);\n    }\n  };\n\n  var handleIconRender = function handleIconRender(file) {\n    if (iconRender) {\n      return iconRender(file, listType);\n    }\n\n    var isLoading = file.status === 'uploading';\n    var fileIcon = isImgUrl && isImgUrl(file) ? /*#__PURE__*/React.createElement(PictureTwoTone, null) : /*#__PURE__*/React.createElement(FileTwoTone, null);\n    var icon = isLoading ? /*#__PURE__*/React.createElement(LoadingOutlined, null) : /*#__PURE__*/React.createElement(PaperClipOutlined, null);\n\n    if (listType === 'picture') {\n      icon = isLoading ? /*#__PURE__*/React.createElement(LoadingOutlined, null) : fileIcon;\n    } else if (listType === 'picture-card') {\n      icon = isLoading ? locale.uploading : fileIcon;\n    }\n\n    return icon;\n  };\n\n  var handleActionIconRender = function handleActionIconRender(customIcon, callback, prefixCls, title) {\n    var btnProps = {\n      type: 'text',\n      size: 'small',\n      title: title,\n      onClick: function onClick(e) {\n        callback();\n\n        if (isValidElement(customIcon) && customIcon.props.onClick) {\n          customIcon.props.onClick(e);\n        }\n      },\n      className: \"\".concat(prefixCls, \"-list-item-card-actions-btn\")\n    };\n\n    if (isValidElement(customIcon)) {\n      var btnIcon = cloneElement(customIcon, _extends(_extends({}, customIcon.props), {\n        onClick: function onClick() {}\n      }));\n      return /*#__PURE__*/React.createElement(Button, _extends({}, btnProps, {\n        icon: btnIcon\n      }));\n    }\n\n    return /*#__PURE__*/React.createElement(Button, btnProps, /*#__PURE__*/React.createElement(\"span\", null, customIcon));\n  }; // Test needs\n\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      handlePreview: handlePreview,\n      handleDownload: handleDownload\n    };\n  });\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var prefixCls = getPrefixCls('upload', customizePrefixCls);\n  var list = items.map(function (file) {\n    var _classNames3, _classNames4;\n\n    var progress;\n    var iconNode = handleIconRender(file);\n    var icon = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-text-icon\")\n    }, iconNode);\n\n    if (listType === 'picture' || listType === 'picture-card') {\n      if (file.status === 'uploading' || !file.thumbUrl && !file.url) {\n        var _classNames;\n\n        var uploadingClassName = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-list-item-thumbnail\"), true), _defineProperty(_classNames, \"\".concat(prefixCls, \"-list-item-file\"), file.status !== 'uploading'), _classNames));\n        icon = /*#__PURE__*/React.createElement(\"div\", {\n          className: uploadingClassName\n        }, iconNode);\n      } else {\n        var _classNames2;\n\n        var thumbnail = isImgUrl && isImgUrl(file) ? /*#__PURE__*/React.createElement(\"img\", {\n          src: file.thumbUrl || file.url,\n          alt: file.name,\n          className: \"\".concat(prefixCls, \"-list-item-image\")\n        }) : iconNode;\n        var aClassName = classNames((_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-list-item-thumbnail\"), true), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-list-item-file\"), isImgUrl && !isImgUrl(file)), _classNames2));\n        icon = /*#__PURE__*/React.createElement(\"a\", {\n          className: aClassName,\n          onClick: function onClick(e) {\n            return handlePreview(file, e);\n          },\n          href: file.url || file.thumbUrl,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\"\n        }, thumbnail);\n      }\n    }\n\n    if (file.status === 'uploading') {\n      // show loading icon if upload progress listener is disabled\n      var loadingProgress = 'percent' in file ? /*#__PURE__*/React.createElement(Progress, _extends({}, progressProps, {\n        type: \"line\",\n        percent: file.percent\n      })) : null;\n      progress = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-list-item-progress\"),\n        key: \"progress\"\n      }, loadingProgress);\n    }\n\n    var infoUploadingClass = classNames((_classNames3 = {}, _defineProperty(_classNames3, \"\".concat(prefixCls, \"-list-item\"), true), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-list-item-\").concat(file.status), true), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-list-item-list-type-\").concat(listType), true), _classNames3));\n    var linkProps = typeof file.linkProps === 'string' ? JSON.parse(file.linkProps) : file.linkProps;\n    var removeIcon = showRemoveIcon ? handleActionIconRender((typeof customRemoveIcon === 'function' ? customRemoveIcon(file) : customRemoveIcon) || /*#__PURE__*/React.createElement(DeleteOutlined, null), function () {\n      return handleClose(file);\n    }, prefixCls, locale.removeFile) : null;\n    var downloadIcon = showDownloadIcon && file.status === 'done' ? handleActionIconRender((typeof customDownloadIcon === 'function' ? customDownloadIcon(file) : customDownloadIcon) || /*#__PURE__*/React.createElement(DownloadOutlined, null), function () {\n      return handleDownload(file);\n    }, prefixCls, locale.downloadFile) : null;\n    var downloadOrDelete = listType !== 'picture-card' && /*#__PURE__*/React.createElement(\"span\", {\n      key: \"download-delete\",\n      className: \"\".concat(prefixCls, \"-list-item-card-actions \").concat(listType === 'picture' ? 'picture' : '')\n    }, downloadIcon, removeIcon);\n    var listItemNameClass = classNames((_classNames4 = {}, _defineProperty(_classNames4, \"\".concat(prefixCls, \"-list-item-name\"), true), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-list-item-name-icon-count-\").concat([downloadIcon, removeIcon].filter(function (x) {\n      return x;\n    }).length), true), _classNames4));\n    var preview = file.url ? [/*#__PURE__*/React.createElement(\"a\", _extends({\n      key: \"view\",\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      className: listItemNameClass,\n      title: file.name\n    }, linkProps, {\n      href: file.url,\n      onClick: function onClick(e) {\n        return handlePreview(file, e);\n      }\n    }), file.name), downloadOrDelete] : [/*#__PURE__*/React.createElement(\"span\", {\n      key: \"view\",\n      className: listItemNameClass,\n      onClick: function onClick(e) {\n        return handlePreview(file, e);\n      },\n      title: file.name\n    }, file.name), downloadOrDelete];\n    var style = {\n      pointerEvents: 'none',\n      opacity: 0.5\n    };\n    var previewIcon = showPreviewIcon ? /*#__PURE__*/React.createElement(\"a\", {\n      href: file.url || file.thumbUrl,\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      style: file.url || file.thumbUrl ? undefined : style,\n      onClick: function onClick(e) {\n        return handlePreview(file, e);\n      },\n      title: locale.previewFile\n    }, /*#__PURE__*/React.createElement(EyeOutlined, null)) : null;\n    var actions = listType === 'picture-card' && file.status !== 'uploading' && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-list-item-actions\")\n    }, previewIcon, file.status === 'done' && downloadIcon, removeIcon);\n    var message;\n\n    if (file.response && typeof file.response === 'string') {\n      message = file.response;\n    } else {\n      message = file.error && file.error.statusText || locale.uploadError;\n    }\n\n    var iconAndPreview = /*#__PURE__*/React.createElement(\"span\", null, icon, preview);\n    var dom = /*#__PURE__*/React.createElement(\"div\", {\n      className: infoUploadingClass\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-list-item-info\")\n    }, iconAndPreview), actions, /*#__PURE__*/React.createElement(Animate, {\n      transitionName: \"fade\",\n      component: \"\"\n    }, progress));\n    var listContainerNameClass = classNames(_defineProperty({}, \"\".concat(prefixCls, \"-list-picture-card-container\"), listType === 'picture-card'));\n    var item = file.status === 'error' ? /*#__PURE__*/React.createElement(Tooltip, {\n      title: message,\n      getPopupContainer: function getPopupContainer(node) {\n        return node.parentNode;\n      }\n    }, dom) : /*#__PURE__*/React.createElement(\"span\", null, dom);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: file.uid,\n      className: listContainerNameClass\n    }, itemRender ? itemRender(item, file, items) : item);\n  });\n  var listClassNames = classNames((_classNames6 = {}, _defineProperty(_classNames6, \"\".concat(prefixCls, \"-list\"), true), _defineProperty(_classNames6, \"\".concat(prefixCls, \"-list-\").concat(listType), true), _defineProperty(_classNames6, \"\".concat(prefixCls, \"-list-rtl\"), direction === 'rtl'), _classNames6));\n  var animationDirection = listType === 'picture-card' ? 'animate-inline' : 'animate';\n  var transitionName = list.length === 0 ? '' : \"\".concat(prefixCls, \"-\").concat(animationDirection);\n  return /*#__PURE__*/React.createElement(Animate, {\n    transitionName: transitionName,\n    component: \"div\",\n    className: listClassNames\n  }, list, /*#__PURE__*/React.isValidElement(appendAction) ? /*#__PURE__*/React.cloneElement(appendAction, {\n    key: 'appendAction'\n  }) : appendAction);\n};\n\nvar UploadList = /*#__PURE__*/React.forwardRef(InternalUploadList);\nUploadList.displayName = 'UploadList';\nUploadList.defaultProps = {\n  listType: 'text',\n  progress: {\n    strokeWidth: 2,\n    showInfo: false\n  },\n  showRemoveIcon: true,\n  showDownloadIcon: false,\n  showPreviewIcon: true,\n  previewFile: previewImage,\n  isImageUrl: isImageUrl\n};\nexport default UploadList;","map":{"version":3,"sources":["/Users/lilijiaxin/Desktop/Code-Rena/client/node_modules/antd/es/upload/UploadList.js"],"names":["_defineProperty","_extends","React","Animate","classNames","LoadingOutlined","PaperClipOutlined","PictureTwoTone","FileTwoTone","EyeOutlined","DeleteOutlined","DownloadOutlined","cloneElement","isValidElement","previewImage","isImageUrl","Tooltip","Progress","ConfigContext","Button","useForceUpdate","InternalUploadList","_ref","ref","_classNames6","listType","previewFile","onPreview","onDownload","onRemove","locale","iconRender","isImgUrl","customizePrefixCls","prefixCls","_ref$items","items","showPreviewIcon","showRemoveIcon","showDownloadIcon","customRemoveIcon","removeIcon","customDownloadIcon","downloadIcon","progressProps","progress","appendAction","itemRender","forceUpdate","useEffect","forEach","file","document","window","FileReader","File","originFileObj","Blob","thumbUrl","undefined","then","previewDataUrl","handlePreview","e","preventDefault","handleDownload","url","open","handleClose","handleIconRender","isLoading","status","fileIcon","createElement","icon","uploading","handleActionIconRender","customIcon","callback","title","btnProps","type","size","onClick","props","className","concat","btnIcon","useImperativeHandle","_React$useContext","useContext","getPrefixCls","direction","list","map","_classNames3","_classNames4","iconNode","_classNames","uploadingClassName","_classNames2","thumbnail","src","alt","name","aClassName","href","target","rel","loadingProgress","percent","key","infoUploadingClass","linkProps","JSON","parse","removeFile","downloadFile","downloadOrDelete","listItemNameClass","filter","x","length","preview","style","pointerEvents","opacity","previewIcon","actions","message","response","error","statusText","uploadError","iconAndPreview","dom","transitionName","component","listContainerNameClass","item","getPopupContainer","node","parentNode","uid","listClassNames","animationDirection","UploadList","forwardRef","displayName","defaultProps","strokeWidth","showInfo"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport Animate from 'rc-animate';\nimport classNames from 'classnames';\nimport LoadingOutlined from '@ant-design/icons/LoadingOutlined';\nimport PaperClipOutlined from '@ant-design/icons/PaperClipOutlined';\nimport PictureTwoTone from '@ant-design/icons/PictureTwoTone';\nimport FileTwoTone from '@ant-design/icons/FileTwoTone';\nimport EyeOutlined from '@ant-design/icons/EyeOutlined';\nimport DeleteOutlined from '@ant-design/icons/DeleteOutlined';\nimport DownloadOutlined from '@ant-design/icons/DownloadOutlined';\nimport { cloneElement, isValidElement } from '../_util/reactNode';\nimport { previewImage, isImageUrl } from './utils';\nimport Tooltip from '../tooltip';\nimport Progress from '../progress';\nimport { ConfigContext } from '../config-provider';\nimport Button from '../button';\nimport useForceUpdate from '../_util/hooks/useForceUpdate';\n\nvar InternalUploadList = function InternalUploadList(_ref, ref) {\n  var _classNames6;\n\n  var listType = _ref.listType,\n      previewFile = _ref.previewFile,\n      onPreview = _ref.onPreview,\n      onDownload = _ref.onDownload,\n      onRemove = _ref.onRemove,\n      locale = _ref.locale,\n      iconRender = _ref.iconRender,\n      isImgUrl = _ref.isImageUrl,\n      customizePrefixCls = _ref.prefixCls,\n      _ref$items = _ref.items,\n      items = _ref$items === void 0 ? [] : _ref$items,\n      showPreviewIcon = _ref.showPreviewIcon,\n      showRemoveIcon = _ref.showRemoveIcon,\n      showDownloadIcon = _ref.showDownloadIcon,\n      customRemoveIcon = _ref.removeIcon,\n      customDownloadIcon = _ref.downloadIcon,\n      progressProps = _ref.progress,\n      appendAction = _ref.appendAction,\n      itemRender = _ref.itemRender;\n  var forceUpdate = useForceUpdate();\n  React.useEffect(function () {\n    if (listType !== 'picture' && listType !== 'picture-card') {\n      return;\n    }\n\n    (items || []).forEach(function (file) {\n      if (typeof document === 'undefined' || typeof window === 'undefined' || !window.FileReader || !window.File || !(file.originFileObj instanceof File || file.originFileObj instanceof Blob) || file.thumbUrl !== undefined) {\n        return;\n      }\n\n      file.thumbUrl = '';\n\n      if (previewFile) {\n        previewFile(file.originFileObj).then(function (previewDataUrl) {\n          // Need append '' to avoid dead loop\n          file.thumbUrl = previewDataUrl || '';\n          forceUpdate();\n        });\n      }\n    });\n  }, [listType, items, previewFile]);\n\n  var handlePreview = function handlePreview(file, e) {\n    if (!onPreview) {\n      return;\n    }\n\n    e.preventDefault();\n    return onPreview(file);\n  };\n\n  var handleDownload = function handleDownload(file) {\n    if (typeof onDownload === 'function') {\n      onDownload(file);\n    } else if (file.url) {\n      window.open(file.url);\n    }\n  };\n\n  var handleClose = function handleClose(file) {\n    if (onRemove) {\n      onRemove(file);\n    }\n  };\n\n  var handleIconRender = function handleIconRender(file) {\n    if (iconRender) {\n      return iconRender(file, listType);\n    }\n\n    var isLoading = file.status === 'uploading';\n    var fileIcon = isImgUrl && isImgUrl(file) ? /*#__PURE__*/React.createElement(PictureTwoTone, null) : /*#__PURE__*/React.createElement(FileTwoTone, null);\n    var icon = isLoading ? /*#__PURE__*/React.createElement(LoadingOutlined, null) : /*#__PURE__*/React.createElement(PaperClipOutlined, null);\n\n    if (listType === 'picture') {\n      icon = isLoading ? /*#__PURE__*/React.createElement(LoadingOutlined, null) : fileIcon;\n    } else if (listType === 'picture-card') {\n      icon = isLoading ? locale.uploading : fileIcon;\n    }\n\n    return icon;\n  };\n\n  var handleActionIconRender = function handleActionIconRender(customIcon, callback, prefixCls, title) {\n    var btnProps = {\n      type: 'text',\n      size: 'small',\n      title: title,\n      onClick: function onClick(e) {\n        callback();\n\n        if (isValidElement(customIcon) && customIcon.props.onClick) {\n          customIcon.props.onClick(e);\n        }\n      },\n      className: \"\".concat(prefixCls, \"-list-item-card-actions-btn\")\n    };\n\n    if (isValidElement(customIcon)) {\n      var btnIcon = cloneElement(customIcon, _extends(_extends({}, customIcon.props), {\n        onClick: function onClick() {}\n      }));\n      return /*#__PURE__*/React.createElement(Button, _extends({}, btnProps, {\n        icon: btnIcon\n      }));\n    }\n\n    return /*#__PURE__*/React.createElement(Button, btnProps, /*#__PURE__*/React.createElement(\"span\", null, customIcon));\n  }; // Test needs\n\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      handlePreview: handlePreview,\n      handleDownload: handleDownload\n    };\n  });\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var prefixCls = getPrefixCls('upload', customizePrefixCls);\n  var list = items.map(function (file) {\n    var _classNames3, _classNames4;\n\n    var progress;\n    var iconNode = handleIconRender(file);\n    var icon = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-text-icon\")\n    }, iconNode);\n\n    if (listType === 'picture' || listType === 'picture-card') {\n      if (file.status === 'uploading' || !file.thumbUrl && !file.url) {\n        var _classNames;\n\n        var uploadingClassName = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-list-item-thumbnail\"), true), _defineProperty(_classNames, \"\".concat(prefixCls, \"-list-item-file\"), file.status !== 'uploading'), _classNames));\n        icon = /*#__PURE__*/React.createElement(\"div\", {\n          className: uploadingClassName\n        }, iconNode);\n      } else {\n        var _classNames2;\n\n        var thumbnail = isImgUrl && isImgUrl(file) ? /*#__PURE__*/React.createElement(\"img\", {\n          src: file.thumbUrl || file.url,\n          alt: file.name,\n          className: \"\".concat(prefixCls, \"-list-item-image\")\n        }) : iconNode;\n        var aClassName = classNames((_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-list-item-thumbnail\"), true), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-list-item-file\"), isImgUrl && !isImgUrl(file)), _classNames2));\n        icon = /*#__PURE__*/React.createElement(\"a\", {\n          className: aClassName,\n          onClick: function onClick(e) {\n            return handlePreview(file, e);\n          },\n          href: file.url || file.thumbUrl,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\"\n        }, thumbnail);\n      }\n    }\n\n    if (file.status === 'uploading') {\n      // show loading icon if upload progress listener is disabled\n      var loadingProgress = 'percent' in file ? /*#__PURE__*/React.createElement(Progress, _extends({}, progressProps, {\n        type: \"line\",\n        percent: file.percent\n      })) : null;\n      progress = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-list-item-progress\"),\n        key: \"progress\"\n      }, loadingProgress);\n    }\n\n    var infoUploadingClass = classNames((_classNames3 = {}, _defineProperty(_classNames3, \"\".concat(prefixCls, \"-list-item\"), true), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-list-item-\").concat(file.status), true), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-list-item-list-type-\").concat(listType), true), _classNames3));\n    var linkProps = typeof file.linkProps === 'string' ? JSON.parse(file.linkProps) : file.linkProps;\n    var removeIcon = showRemoveIcon ? handleActionIconRender((typeof customRemoveIcon === 'function' ? customRemoveIcon(file) : customRemoveIcon) || /*#__PURE__*/React.createElement(DeleteOutlined, null), function () {\n      return handleClose(file);\n    }, prefixCls, locale.removeFile) : null;\n    var downloadIcon = showDownloadIcon && file.status === 'done' ? handleActionIconRender((typeof customDownloadIcon === 'function' ? customDownloadIcon(file) : customDownloadIcon) || /*#__PURE__*/React.createElement(DownloadOutlined, null), function () {\n      return handleDownload(file);\n    }, prefixCls, locale.downloadFile) : null;\n    var downloadOrDelete = listType !== 'picture-card' && /*#__PURE__*/React.createElement(\"span\", {\n      key: \"download-delete\",\n      className: \"\".concat(prefixCls, \"-list-item-card-actions \").concat(listType === 'picture' ? 'picture' : '')\n    }, downloadIcon, removeIcon);\n    var listItemNameClass = classNames((_classNames4 = {}, _defineProperty(_classNames4, \"\".concat(prefixCls, \"-list-item-name\"), true), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-list-item-name-icon-count-\").concat([downloadIcon, removeIcon].filter(function (x) {\n      return x;\n    }).length), true), _classNames4));\n    var preview = file.url ? [/*#__PURE__*/React.createElement(\"a\", _extends({\n      key: \"view\",\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      className: listItemNameClass,\n      title: file.name\n    }, linkProps, {\n      href: file.url,\n      onClick: function onClick(e) {\n        return handlePreview(file, e);\n      }\n    }), file.name), downloadOrDelete] : [/*#__PURE__*/React.createElement(\"span\", {\n      key: \"view\",\n      className: listItemNameClass,\n      onClick: function onClick(e) {\n        return handlePreview(file, e);\n      },\n      title: file.name\n    }, file.name), downloadOrDelete];\n    var style = {\n      pointerEvents: 'none',\n      opacity: 0.5\n    };\n    var previewIcon = showPreviewIcon ? /*#__PURE__*/React.createElement(\"a\", {\n      href: file.url || file.thumbUrl,\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      style: file.url || file.thumbUrl ? undefined : style,\n      onClick: function onClick(e) {\n        return handlePreview(file, e);\n      },\n      title: locale.previewFile\n    }, /*#__PURE__*/React.createElement(EyeOutlined, null)) : null;\n    var actions = listType === 'picture-card' && file.status !== 'uploading' && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-list-item-actions\")\n    }, previewIcon, file.status === 'done' && downloadIcon, removeIcon);\n    var message;\n\n    if (file.response && typeof file.response === 'string') {\n      message = file.response;\n    } else {\n      message = file.error && file.error.statusText || locale.uploadError;\n    }\n\n    var iconAndPreview = /*#__PURE__*/React.createElement(\"span\", null, icon, preview);\n    var dom = /*#__PURE__*/React.createElement(\"div\", {\n      className: infoUploadingClass\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-list-item-info\")\n    }, iconAndPreview), actions, /*#__PURE__*/React.createElement(Animate, {\n      transitionName: \"fade\",\n      component: \"\"\n    }, progress));\n    var listContainerNameClass = classNames(_defineProperty({}, \"\".concat(prefixCls, \"-list-picture-card-container\"), listType === 'picture-card'));\n    var item = file.status === 'error' ? /*#__PURE__*/React.createElement(Tooltip, {\n      title: message,\n      getPopupContainer: function getPopupContainer(node) {\n        return node.parentNode;\n      }\n    }, dom) : /*#__PURE__*/React.createElement(\"span\", null, dom);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: file.uid,\n      className: listContainerNameClass\n    }, itemRender ? itemRender(item, file, items) : item);\n  });\n  var listClassNames = classNames((_classNames6 = {}, _defineProperty(_classNames6, \"\".concat(prefixCls, \"-list\"), true), _defineProperty(_classNames6, \"\".concat(prefixCls, \"-list-\").concat(listType), true), _defineProperty(_classNames6, \"\".concat(prefixCls, \"-list-rtl\"), direction === 'rtl'), _classNames6));\n  var animationDirection = listType === 'picture-card' ? 'animate-inline' : 'animate';\n  var transitionName = list.length === 0 ? '' : \"\".concat(prefixCls, \"-\").concat(animationDirection);\n  return /*#__PURE__*/React.createElement(Animate, {\n    transitionName: transitionName,\n    component: \"div\",\n    className: listClassNames\n  }, list, /*#__PURE__*/React.isValidElement(appendAction) ? /*#__PURE__*/React.cloneElement(appendAction, {\n    key: 'appendAction'\n  }) : appendAction);\n};\n\nvar UploadList = /*#__PURE__*/React.forwardRef(InternalUploadList);\nUploadList.displayName = 'UploadList';\nUploadList.defaultProps = {\n  listType: 'text',\n  progress: {\n    strokeWidth: 2,\n    showInfo: false\n  },\n  showRemoveIcon: true,\n  showDownloadIcon: false,\n  showPreviewIcon: true,\n  previewFile: previewImage,\n  isImageUrl: isImageUrl\n};\nexport default UploadList;"]},"metadata":{},"sourceType":"module"}